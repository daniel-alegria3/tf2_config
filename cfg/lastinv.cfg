//  https://www.reddit.com/r/tf2scripthelp/wiki/complexscripts/

//[ Binds
bind 1 x_doslot1
bind RSHIFT =r_drawviewmodel_pri
bind 2 x_doslot2
bind 3 x_doslot3
bind 4 x_doslot4
bind 5 x_doslot5
bind q x_lastinv
bind w +x_forward
bind s +x_back
bind a +x_left
bind d +x_right
bind mwheelup x_invprev
bind mwheeldown x_invnext
//]

//[ Replace movement functions (+forward, etc) with custom ones if you use any

alias +x_forward "+forward; x_moved"
alias -x_forward "-forward; x_moved"
alias +x_back "+back; x_moved"
alias -x_back "-back; x_moved"
alias +x_left "+moveleft; x_moved"
alias -x_left "-moveleft; x_moved"
alias +x_right "+moveright; x_moved"
alias -x_right "-moveright; x_moved"

alias x_moved "current_weapon"
//]

//[ Weapon-specific settings
alias +r_drawviewmodel_pri "alias =r_drawviewmodel_pri -r_drawviewmodel_pri; alias r_drawviewmodel_pri r_drawviewmodel 1"

alias -r_drawviewmodel_pri "alias =r_drawviewmodel_pri +r_drawviewmodel_pri; alias r_drawviewmodel_pri r_drawviewmodel 0"

+r_drawviewmodel_pri

alias x_slot1 "r_drawviewmodel_pri"
alias x_slot2 "r_drawviewmodel 1"
alias x_slot3 "r_drawviewmodel 1"
alias x_slot4 "r_drawviewmodel 1"
alias x_slot5 "r_drawviewmodel 1"
//]

//[ Mechanics
hud_fastswitch 1

alias +x_slot1 alias x_doslot1 "xeq_slot1"
alias xeq_slot1 "x_slot1; eq_slot1"
alias -x_slot1 alias x_doslot1 "slot1"

alias +x_slot2 alias x_doslot2 "xeq_slot2"
alias xeq_slot2 "x_slot2; eq_slot2"
alias -x_slot2 alias x_doslot2 "slot2"

alias +x_slot3 alias x_doslot3 "xeq_slot3"
alias xeq_slot3 "x_slot3; eq_slot3"
alias -x_slot3 alias x_doslot3 "slot3"

alias +x_slot4 alias x_doslot4 "xeq_slot4"
alias xeq_slot4 "x_slot2; eq_slot4"
alias -x_slot4 alias x_doslot4 "slot4"

alias +x_slot5 alias x_doslot5 "xeq_slot5"
alias xeq_slot5 "x_slot5; eq_slot5"
alias -x_slot5 alias x_doslot5 "slot5"

alias x_lastinv_set

alias eq_slot1 "alias current_weapon slot1; current_weapon; alias x_invprev x_doslot3; alias x_invnext x_doslot2; x_lastinv_set; alias x_lastinv_set alias x_lastinv x_doslot1; -x_slot1; +x_slot2; +x_slot3; +x_slot4; +x_slot5"
alias eq_slot2 "alias current_weapon slot2; current_weapon; alias x_invprev x_doslot1; alias x_invnext x_doslot3; x_lastinv_set; alias x_lastinv_set alias x_lastinv x_doslot2; +x_slot1; -x_slot2; +x_slot3; +x_slot4; +x_slot5"
alias eq_slot3 "alias current_weapon slot3; current_weapon; alias x_invprev x_doslot2; alias x_invnext x_doslot1; x_lastinv_set; alias x_lastinv_set alias x_lastinv x_doslot3; +x_slot1; +x_slot2; -x_slot3; +x_slot4; +x_slot5"

alias eq_slot4 "alias current_weapon; slot4; alias x_invprev x_lastinv; alias x_invnext x_lastinv; +x_slot1; +x_slot2; +x_slot3; -x_slot4; +x_slot5"
alias eq_slot5 "alias current_weapon; slot5; alias x_invprev x_lastinv; alias x_invnext x_lastinv; +x_slot1; +x_slot2; +x_slot3; +x_slot4; -x_slot5""
//]

//[ Set default 'Q' action to toggle between slot2 and slot1
eq_slot2
eq_slot1
//]
